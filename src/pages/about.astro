---
import Layout from "@/layouts/Layout.astro";
import { createReader } from "@keystatic/core/reader";
import keystaticConfig from "../../keystatic.config";

const reader = createReader(process.cwd(), keystaticConfig);
const aboutContent = await reader.singletons.about.read();
---

<Layout 
  title="About - Trained Stoic"
  description="Learn about the philosophy and mission behind Trained Stoic - bringing ancient wisdom to modern life through practical stoic teachings."
>
  <div class="mx-auto max-w-4xl px-6 py-12">
    <header class="text-center mb-12">
      <h1 class="heading-1 mb-6">
        {aboutContent?.title || "About Trained Stoic"}
      </h1>
    </header>

    <div class="prose prose-lg max-w-none">
      {aboutContent?.content ? (
        <aboutContent.content />
      ) : (
        <div class="text-center py-12">
          <p class="text-muted-foreground">
            Content will appear here once configured in the admin panel.
          </p>
          <a href="/admin" class="btn-primary mt-4">
            Configure Content
          </a>
        </div>
      )}
    </div>

    <!-- Contact Section -->
    <section class="bg-secondary/5 rounded-lg p-8 mt-16">
      <div class="text-center">
        <h2 class="heading-2 mb-4">Get in Touch</h2>
        <p class="text-muted-foreground mb-6">
          Have questions about stoic philosophy or want to share your journey? I'd love to hear from you.
        </p>
        <div class="flex flex-wrap justify-center gap-4">
          <a href="mailto:hello@trainedstoic.com" class="btn-primary">
            Send Email
          </a>
          <a href="/blog" class="btn-outline">
            Read the Blog
          </a>
        </div>
      </div>
    </section>
  </div>
</Layout>

<style>
  .prose {
    @apply text-foreground leading-relaxed;
  }
  
  .prose h1,
  .prose h2,
  .prose h3,
  .prose h4,
  .prose h5,
  .prose h6 {
    @apply text-foreground font-bold mt-8 mb-4;
  }
  
  .prose h1 { @apply text-3xl; }
  .prose h2 { @apply text-2xl; }
  .prose h3 { @apply text-xl; }
  .prose h4 { @apply text-lg; }
  
  .prose p {
    @apply mb-4;
  }
  
  .prose a {
    @apply text-primary hover:underline;
  }
  
  .prose blockquote {
    @apply border-l-4 border-primary pl-4 italic text-muted-foreground my-6;
  }
  
  .prose ul,
  .prose ol {
    @apply mb-4 pl-6;
  }
  
  .prose li {
    @apply mb-2;
  }
  
  .prose code {
    @apply bg-muted px-2 py-1 rounded text-sm;
  }
  
  .prose pre {
    @apply bg-muted p-4 rounded-lg overflow-x-auto mb-4;
  }
  
  .prose pre code {
    @apply bg-transparent p-0;
  }
  
  .prose img {
    @apply rounded-lg my-6;
  }
</style>